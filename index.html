<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Sheets API Demo</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

<div id="data-container"></div>

<script>
    // Access the GitHub secret using JavaScript
    var apiKey = "{{ secrets.API }}"; // Replace with the correct syntax for your use case

    var spreadsheetId = "13JAvU5nRGtMGVH2AeqvKR4B_mcw0jD6RcNlz0KGBd5M";

    var sheetsEndpoint = "https://sheets.googleapis.com/v4/spreadsheets/" + spreadsheetId + "/values/Sheet1!A:B?key=" + apiKey;

    $.get(sheetsEndpoint, function(data) {
        var values = data.values;

        var dataContainer = $("#data-container");
        values.forEach(function(row) {
            dataContainer.append("<p>Column A: " + row[0] + ", Column B: " + row[1] + "</p>");
        });
    });
</script>

</body>
</html>
